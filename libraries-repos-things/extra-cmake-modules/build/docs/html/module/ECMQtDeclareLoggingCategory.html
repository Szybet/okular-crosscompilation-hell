<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ECMQtDeclareLoggingCategory &#8212; Extra CMake Modules 5.240.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/ecm.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    
    <link rel="icon" href="../_static/kde-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ECMQueryQt" href="ECMQueryQt.html" />
    <link rel="prev" title="ECMQmlModule" href="ECMQmlModule.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ECMQueryQt.html" title="ECMQueryQt"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ECMQmlModule.html" title="ECMQmlModule"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ECM 5.240 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../manual/ecm-modules.7.html" accesskey="U">ecm-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ECMQtDeclareLoggingCategory</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ecmqtdeclareloggingcategory">
<span id="module:ECMQtDeclareLoggingCategory"></span><h1>ECMQtDeclareLoggingCategory<a class="headerlink" href="#ecmqtdeclareloggingcategory" title="Permalink to this heading">Â¶</a></h1>
<p>This module provides the <code class="docutils literal notranslate"><span class="pre">ecm_qt_declare_logging_category</span></code> function for
generating declarations for logging categories in Qt5, and the
<code class="docutils literal notranslate"><span class="pre">ecm_qt_install_logging_categories</span></code> function for generating and installing
a file in KDebugSettings format with the info about all those categories,
as well as a file with info about any renamed categories if defined.
To include in that file any logging categories that are manually defined
also a function <code class="docutils literal notranslate"><span class="pre">ecm_qt_export_logging_category</span></code> is provided.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ecm_qt_declare_logging_category</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sources_var_name</span><span class="p">(</span><span class="o">|</span><span class="n">target</span> <span class="p">(</span><span class="n">since</span> <span class="mf">5.80</span><span class="p">))</span><span class="o">&gt;</span>
    <span class="n">HEADER</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
    <span class="n">IDENTIFIER</span> <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span>
    <span class="n">CATEGORY_NAME</span> <span class="o">&lt;</span><span class="n">category_name</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="n">OLD_CATEGORY_NAMES</span> <span class="o">&lt;</span><span class="n">oldest_cat_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">second_oldest_cat_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">]]]</span>
    <span class="p">[</span><span class="n">DEFAULT_SEVERITY</span> <span class="o">&lt;</span><span class="n">Debug</span><span class="o">|</span><span class="n">Info</span><span class="o">|</span><span class="ne">Warning</span><span class="o">|</span><span class="n">Critical</span><span class="o">|</span><span class="n">Fatal</span><span class="o">&gt;</span><span class="p">]</span>
    <span class="p">[</span><span class="n">EXPORT</span> <span class="o">&lt;</span><span class="n">exportid</span><span class="o">&gt;</span><span class="p">]</span>
    <span class="p">[</span><span class="n">DESCRIPTION</span> <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>A header file, <code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code>, will be generated along with a corresponding
source file. These will provide a QLoggingCategory category that can be referred
to from C++ code using <code class="docutils literal notranslate"><span class="pre">&lt;identifier&gt;</span></code>, and from the logging configuration using
<code class="docutils literal notranslate"><span class="pre">&lt;category_name&gt;</span></code>.</p>
<p>The generated source file will be added to the variable with the name
<code class="docutils literal notranslate"><span class="pre">&lt;sources_var_name&gt;</span></code>. If the given argument is a target though, instead both the
generated header file and the generated source file will be added to the target as
private sources (since 5.80). The target must not be an alias.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code> is not absolute, it will be taken relative to the current
binary directory.</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;identifier&gt;</span></code> may include namespaces (eg: <code class="docutils literal notranslate"><span class="pre">foo::bar::IDENT</span></code>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> is passed, the category will be registered for the group id
<code class="docutils literal notranslate"><span class="pre">&lt;exportid&gt;</span></code>. Info about the categories of that group can then be
generated in a file and installed by that group id with the
<code class="docutils literal notranslate"><span class="pre">ecm_qt_install_logging_categories</span></code> function. In that case also <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code>
will need to be passed, with <code class="docutils literal notranslate"><span class="pre">&lt;description&gt;</span></code> being a short single line text.
And <code class="docutils literal notranslate"><span class="pre">OLD_CATEGORY_NAMES</span></code> can be used to inform about any renamings of the category,
so user settings can be migrated. Since 5.68.0.</p>
<p>Since 5.14.0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ecm_qt_export_logging_category</span><span class="p">(</span>
    <span class="n">IDENTIFIER</span> <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span>
    <span class="n">CATEGORY_NAME</span> <span class="o">&lt;</span><span class="n">category_name</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="n">OLD_CATEGORY_NAMES</span> <span class="o">&lt;</span><span class="n">oldest_category_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">second_oldest_category_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">]]]</span>
    <span class="n">EXPORT</span> <span class="o">&lt;</span><span class="n">exportid</span><span class="o">&gt;</span>
    <span class="n">DESCRIPTION</span> <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="n">DEFAULT_SEVERITY</span> <span class="o">&lt;</span><span class="n">Debug</span><span class="o">|</span><span class="n">Info</span><span class="o">|</span><span class="ne">Warning</span><span class="o">|</span><span class="n">Critical</span><span class="o">|</span><span class="n">Fatal</span><span class="o">&gt;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Registers a logging category for being included in the generated and
installed KDebugSettings files. To be used for categories who are declared by
manual code or other ways instead of code generated with
<code class="docutils literal notranslate"><span class="pre">ecm_qt_declare_logging_category</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;identifier&gt;</span></code> may include namespaces (eg: <code class="docutils literal notranslate"><span class="pre">foo::bar::IDENT</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> specifies the group id with which the category will be registered.
Info about the categories of that group can then be generated in a file and
installed by that group id with the <code class="docutils literal notranslate"><span class="pre">ecm_qt_install_logging_categories</span></code> function.</p>
<p><code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> specifies a short single line text describing the category.</p>
<p><code class="docutils literal notranslate"><span class="pre">OLD_CATEGORY_NAMES</span></code> can be used to inform about any renamings of the category,
so user settings can be migrated.</p>
<p>Since 5.68.0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ecm_qt_install_logging_categories</span><span class="p">(</span>
    <span class="n">EXPORT</span> <span class="o">&lt;</span><span class="n">exportid</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="n">FILE</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span><span class="p">]</span>
    <span class="n">DESTINATION</span> <span class="o">&lt;</span><span class="n">install_path</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="n">SORT</span><span class="p">]</span>
    <span class="p">[</span><span class="n">COMPONENT</span> <span class="o">&lt;</span><span class="n">component</span><span class="o">&gt;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Generates and installs a file in KDebugSettings format with the info about all
the categories registered for the group <code class="docutils literal notranslate"><span class="pre">&lt;exportid&gt;</span></code>, as well as a file with
info about any renamed categories, if there are.</p>
<p>The method call needs to be after the last <code class="docutils literal notranslate"><span class="pre">ecm_qt_declare_logging_category</span></code>
call which uses the same <code class="docutils literal notranslate"><span class="pre">&lt;exportid&gt;</span></code>. This can be in the same directory, or
any subdirectory or parent directory.</p>
<p><code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> specifies the group id of categories whose information should be
stored in the file generated and installed.</p>
<p><code class="docutils literal notranslate"><span class="pre">FILE</span></code> specifies the name of the file generated and installed. It will default
to lower-cased <code class="docutils literal notranslate"><span class="pre">&lt;exportid&gt;.categories</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DESTINATION</span></code> specifies where the generated file will be
installed.</p>
<p>IF <code class="docutils literal notranslate"><span class="pre">SORT</span></code> is set, entries will be sorted by identifiers.</p>
<p><code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> specifies the installation component name with which the install
rules for the generated file are associated.</p>
<p>Since 5.85.0 this is a no-op when building for Android, as KDebugSettings is
not available on that platform and the logging category files therefore just
bloat the APK.</p>
<p>Example usage:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ecm_qt_declare_logging_category</span><span class="p">(</span>
<span class="w">    </span><span class="s">MYPROJECT_SRCS</span>
<span class="w">    </span><span class="s">HEADER</span><span class="w"> </span><span class="s2">&quot;myproject_debug.h&quot;</span>
<span class="w">    </span><span class="s">IDENTIFIER</span><span class="w"> </span><span class="s2">&quot;MYPROJECT_DEBUG&quot;</span>
<span class="w">    </span><span class="s">CATEGORY_NAME</span><span class="w"> </span><span class="s2">&quot;myproject&quot;</span>
<span class="w">    </span><span class="s">OLD_CATEGORY_NAMES</span><span class="w"> </span><span class="s2">&quot;myprojectlog&quot;</span>
<span class="w">    </span><span class="s">DESCRIPTION</span><span class="w"> </span><span class="s2">&quot;My project&quot;</span>
<span class="w">    </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">MyProject</span>
<span class="p">)</span>

<span class="nb">ecm_qt_export_logging_category</span><span class="p">(</span>
<span class="w">    </span><span class="s">IDENTIFIER</span><span class="w"> </span><span class="s2">&quot;MYPROJECT_SUBMODULE_DEBUG&quot;</span>
<span class="w">    </span><span class="s">CATEGORY_NAME</span><span class="w"> </span><span class="s2">&quot;myproject.submodule&quot;</span>
<span class="w">    </span><span class="s">DESCRIPTION</span><span class="w"> </span><span class="s2">&quot;My project - submodule&quot;</span>
<span class="w">    </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">MyProject</span>
<span class="p">)</span>

<span class="nb">ecm_qt_install_logging_categories</span><span class="p">(</span>
<span class="w">    </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">MyProject</span>
<span class="w">    </span><span class="s">FILE</span><span class="w"> </span><span class="s">myproject.categories</span>
<span class="w">    </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s2">&quot;${KDE_INSTALL_LOGGINGCATEGORIESDIR}&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Since 5.68.0.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="ECMQmlModule.html"
                          title="previous chapter">ECMQmlModule</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="ECMQueryQt.html"
                          title="next chapter">ECMQueryQt</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/module/ECMQtDeclareLoggingCategory.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ECMQueryQt.html" title="ECMQueryQt"
             >next</a> |</li>
        <li class="right" >
          <a href="ECMQmlModule.html" title="ECMQmlModule"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ECM 5.240 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../manual/ecm-modules.7.html" >ecm-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ECMQtDeclareLoggingCategory</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright KDE Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.0.
    </div>
  </body>
</html>